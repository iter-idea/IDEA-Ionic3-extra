<video
  id="authVideo"
  playsinline loop autoplay
  muted="true"  preload="auto"
  *ngIf="showVideo"
  [attr.poster]="platform.is('android') ? './assets/imgs/auth.jpg' : null"
>
  <source
    src="./assets/videos/auth.mp4"
    type="video/mp4"
  >
  <img
    src="./assets/imgs/auth.jpg"
  >
</video>
<img
  id="authImage"
  src="./assets/imgs/auth.jpg"
  *ngIf="!showVideo"
>
<ion-content>
  <div
    *ngIf="mode=='R'"
  >
    <form
      (ngSubmit)="register()"
    >
      <ion-card
        class="aCard"
      >
        <h1
          class="theTitle"
        >
          {{ 'IDEA.AUTH.NEW_ACCOUNT' | translate }}
        </h1>
        <h2
          class="theTagline"
        >
          {{ 'IDEA.AUTH.REGISTER_A_NEW_ACCOUNT_TO_THE_SYSTEM' | translate }}
        </h2>
        <p
          class="theMessage error"
          *ngIf="errorMsg"
        >
          <b>
            {{ 'IDEA.AUTH.ERROR_DETAIL' | translate }}:
          </b>
          {{ errorMsg }}
        </p>
        <ion-list>
          <ion-item
            class="anInput"
          >
            <ion-label
              inline
            >
              <ion-icon
                name="body"
              ></ion-icon>
            </ion-label>
            <ion-input
              type="text"
              autocorrect="off"
              autocapitalize="none"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="t.instant('IDEA.AUTH.FULL_NAME')"
              [(ngModel)]="name"
            ></ion-input>
          </ion-item>
          <ion-item
            class="anInput"
          >
            <ion-label
              inline
            >
              <ion-icon name="contact"></ion-icon>
            </ion-label>
            <ion-input
              type="text"
              autocorrect="off"
              autocapitalize="none"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="t.instant('IDEA.AUTH.USERNAME')"
              [(ngModel)]="username"
            ></ion-input>
          </ion-item>
          <ion-item
            class="anInput"
          >
            <ion-label
              inline
            >
              <ion-icon
                name="mail"
              ></ion-icon>
            </ion-label>
            <ion-input
              type="text"
              autocorrect="off"
              autocapitalize="none"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="t.instant('IDEA.AUTH.EMAIL')"
              [(ngModel)]="email"
            ></ion-input>
          </ion-item>
          <ion-item
            class="anInput"
          >
            <ion-label
              inline
            >
              <ion-icon
                name="key"
              ></ion-icon>
            </ion-label>
            <ion-input
              type="password"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="t.instant('IDEA.AUTH.PASSWORD')"
              [(ngModel)]="password"
            ></ion-input>
          </ion-item>
          <button
            ion-button outline
            class="aButton"
          >
            {{ 'IDEA.AUTH.SIGN_UP' | translate }}
          </button>
        </ion-list>
        <div
          class="someInfo"
        >
          <a
            ion-text tappable
            (click)="mode='S'"
          >
            {{ 'IDEA.AUTH.HAVEN_T_RECEIVED_CONFIRMATION_CODE' | translate }}
            <b>
              {{ 'IDEA.AUTH.CLICK_HERE' | translate }}
            </b>
          </a>
        </div>
        <div
          class="someInfo"
        >
          <a
            ion-text tappable
            (click)="mode='C'"
          >
            {{ 'IDEA.AUTH.ALREADY_HAVE_A_CONFIRMATION_CODE' | translate }}
            <b>
              {{ 'IDEA.AUTH.CLICK_HERE' | translate }}
            </b>
          </a>
        </div>
        <div
          class="someInfo"
        >
          <a
            ion-text tappable
            (click)="goToLogin()"
          >
            ≪ {{ 'IDEA.AUTH.BACK_TO_SIGN_IN' | translate }}
          </a>
        </div>
      </ion-card>
    </form>
  </div>
  <div
    *ngIf="mode=='C'"
  >
    <form
      (ngSubmit)="confirmRegistration()"
    >
      <ion-card
        class="aCard"
      >
        <h1
          class="theTitle"
        >
          {{ 'IDEA.AUTH.CONFIRM_A_REGISTRATION' | translate }}
        </h1>
        <h2
          class="theTagline"
        >
          {{ 'IDEA.AUTH.CONFIRM_A_REGISTRATION_HINT' | translate }}
        </h2>
        <p
          class="theMessage error"
          *ngIf="errorMsg"
        >
          <b>
            {{ 'IDEA.AUTH.ERROR_DETAIL' | translate }}:
          </b>
          {{ errorMsg }}
        </p>
        <ion-list>
          <ion-item
            class="anInput"
          >
            <ion-label
              inline
            >
              <ion-icon
                name="contact"
              ></ion-icon>
            </ion-label>
            <ion-input
              type="text"
              autocorrect="off"
              autocapitalize="none"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="t.instant('IDEA.AUTH.USERNAME_OR_EMAIL')"
              [(ngModel)]="username"
            ></ion-input>
          </ion-item>
          <ion-item
            class="anInput"
          >
            <ion-label
              inline
            >
              <ion-icon
                name="disc"
              ></ion-icon>
            </ion-label>
            <ion-input
              type="text"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="t.instant('IDEA.AUTH.CONFIRMATION_CODE')"
              [(ngModel)]="code"
            ></ion-input>
          </ion-item>
          <button
            ion-button outline
            class="aButton"
          >
            {{ 'IDEA.AUTH.CONFIRM_REGISTRATION' | translate }}
          </button>
        </ion-list>
        <div
          class="someInfo"
        >
          <a
            ion-text tappable
            (click)="mode='R'"
          >
            ≪ {{ 'IDEA.AUTH.BACK_TO_REGISTRATION' | translate }}
          </a>
        </div>
      </ion-card>
    </form>
  </div>
  <div
    *ngIf="mode=='S'"
  >
    <form
      (ngSubmit)="resendConfirmationCode()"
    >
      <ion-card
        class="aCard"
      >
        <h1
          class="theTitle"
        >
          {{ 'IDEA.AUTH.RESEND_CONFIRMATION_CODE' | translate }}
        </h1>
        <h2
          class="theTagline"
        >
          {{ 'IDEA.AUTH.RESEND_CONFIRMATION_CODE_HINT' | translate }}
        </h2>
        <p
          class="theMessage error"
          *ngIf="errorMsg"
        >
          <b>
            {{ 'IDEA.AUTH.ERROR_DETAIL' | translate }}:
          </b>
          {{ errorMsg }}
        </p>
        <ion-list>
          <ion-item
            class="anInput"
          >
            <ion-label
              inline
            >
              <ion-icon
                name="contact"
              ></ion-icon>
            </ion-label>
            <ion-input
              type="text"
              autocorrect="off"
              autocapitalize="none"
              [ngModelOptions]="{ standalone: true }"
              [placeholder]="t.instant('IDEA.AUTH.USERNAME')"
              [(ngModel)]="username"
            ></ion-input>
          </ion-item>
          <button
            ion-button outline
            class="aButton"
          >
            {{ 'IDEA.AUTH.RESEND_CODE' | translate }}
          </button>
        </ion-list>
        <div
          class="someInfo"
        >
          <a
            ion-text tappable
            (click)="mode='R'"
          >
            ≪ {{ 'IDEA.AUTH.BACK_TO_REGISTRATION' | translate }}
          </a>
        </div>
      </ion-card>
    </form>
  </div>
</ion-content>
